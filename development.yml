gladius:
  extends:
    file: common.yml
    service: gladius
  build: .
  environment:
    - SCHEDULER_PORT=8081
    - REDIS_HOST=redis
    - REDIS_PORT=6379
    - GLADIUS_PORT=8080
    - SSH_KEY=/Users/razic/.ssh/id_gitcorp
    - CPUS_PER_TASK=1
    - MEMORY_PER_TASK=512
    - MESOS_MASTER=mesos:5050
    - DOCKER_API=192.168.99.100:2376
    - DOCKER_CA=/Users/razic/.docker/machine/certs/ca.pem
    - DOCKER_CERT=/Users/razic/.docker/machine/certs/cert.pem
    - DOCKER_KEY=/Users/razic/.docker/machine/certs/key.pem
  volumes:
    - /Users:/Users
  ports:
    - "8080:8080"
  links:
    - redis
    - master
master:
  extends:
    file: common.yml
    service: master
  ports:
    - "5050:5050"
executor:
  extends:
    file: common.yml
    service: executor
  build: ../gladius-executor
slave:
  extends:
    file: common.yml
    service: slave
  links:
    - master
  environment:
    - MESOS_MASTER=master:5050
redis:
  extends:
    file: common.yml
    service: redis
